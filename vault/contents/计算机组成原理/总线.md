---
created_at: 2024-08-21
modified_at: 2024-08-21
description: 
aliases: 
tags:
  - 计算机组成原理
title: 总线
---
## 概念
总线是一组能为多个部件分时共享的公共信息传送线路，总线实现设备之间的通信，类比于计算机之间的网络通信，计算机之间的网络的通信控制更加分布式一点，而计算机内部的总线的控制更加集中式点，如果是CPU内部的片内总线就更厉害了，微操作信号都是控制器一手操办的
- 分时：同一时刻只能有一个部件向总线发送消息
- 共享：同一时间可以有多个设备从总线接收消息
### 总线设备
总线上所连接的各类设备按其对总线有无控制功能分为
- 主设备：获得总线控制权的设备
- 从设备：被主设备访问的设备，只能响应从主设备发来的各种总线命令
## 分类
### 一个传输周期传输的位数
- 串行~
- 并行~
### 时序控制
- 同步~
- 异步~
### 功能
- 片内总线 [[cpu/数据通路#单总线|如CPU内部的片内总线]]
- 系统总线 设备之间通信

|      | 方向           | 内容                                          |               |
| ---- | ------------ | ------------------------------------------- | ------------- |
| 数据总线 | CPU向设备设备向CPU | 数据 CPU向设备发出的指令 **中断类型号**                    |               |
| 地址总线 | CPU向设备       |                                             | 访问内存，访问外设的寄存器 |
| 控制总线 | CPU向设备设备向CPU | **时钟，中断请求与应答**，复位，总线请求与应答，ACK，存储器读写，IO读写... |               |

- IO总线 连接低速设备
- 通信总线 计算机之间的通信
## 系统总线的结构
### 单总线
### 双总线
### 三总线
## 指标
- 总线（传输）周期 总线传输频率
	一次总线操作（总线事务）所需的时间（包括申请阶段、 寻址阶段、传输阶段和结束阶段），通常由若干个**总线时钟周期**构成（但不一定）
- 总线时钟周期 总线时钟频率
	同步总线的时钟信号由CPU或桥接器（南北桥）发出的时钟信号决定
- 总线**工作**频率
	实际上指一秒内传送几次数据
- 总线宽度
- 带宽=$总线工作频率\times总线宽度$
- 总线复用 一种信号线在不同的时间传输不同的信息
- 信号线数 地址总线、数据总线和控制总线3种总线数的总和
## 总线事务
- 申请
- 仲裁
- 寻址
- 传输
- 结束
- 总线事务是一个"面向连接"的通信方式
### 突发传输
[[存储系统/ddr#Burst突发传输|突发传输]]
## 总线定时
通信的设备之间如何做时间上的配合
### 同步定时
总线控制器采用一个统一的时钟信号来协调发送和接收双方的传送定时关系
### 异步定时
在异步定时方式中，没有统一的时钟，也没有固定的时间间隔，完全依靠传送双方相互制约的“握手”信号来实现定时控制。主设备提出交换信息的“请求”信号，经接口传送到从设备。从设备接到主设备的请求后，通过接口向主设备发出“回答”信号。
- 不互锁
- 半互锁
- 全互锁
### 半同步
在同步定时方式的基础上，增加一个“等待”响应信号，通过如果要等待说明从设备还没准备好那么下个周期再看看
### 分离式
在同步通信的基础上，将原来的一整个总线传输周期分为请求与应答两个周期
- 请求 主设备A申请总线获得总线使用权把命令发到总线后随即释放总线
- 应答 设备B收到A的命令后做出相应操作后申请总线把结果发还给A随即释放总线