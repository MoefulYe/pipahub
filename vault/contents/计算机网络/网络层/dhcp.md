---
created_at: 2024-07-28
modified_at: 2024-07-28
description: 
aliases: 
tags:
  - 计算机网络
title: DHCP
---
Dynamic Host Configuration Protocol, 动态**配置IP地址、地址掩码、网关与DNS等信息**，是**应用层协议**，工作在**udp**上，端口号**67，68**
## 分配IP地址的工作流程
- dhcp客户机发出**DHCP discover**报文
	当主机启动时，如初生的婴儿（**0.0.0.0**），没有身份信息，需要向外界大声哭泣，“大神，请赐予我一个名字吧”。婴儿的呼唤被广播出去，源地址**0.0.0.0**，目标地址**255.255.255.255**
- dhcp服务器回应**DHCP offer**报文
	大神就是这里的DHCP服务器，专门给婴儿起名字，回应了婴儿的啼哭：“小宝贝，你的名字叫**192.168.0.2**，喜欢吗” 源地址是dhcp服务器的ip地址，目标地址是**255.255.255.255**
- 广播域的其他主机因为没有起名字的能力，丢弃报文（udp67没有对应的服务）
	其他主机：“抱歉小宝贝我无能为力”
- dhcp客户机收到offer报文，发起**request**报文
	婴儿：“大神我很喜欢**192.168.0.2**这个名字就它了”
- 服务器的确认回应**ack**报文
	大神：“很好，再见”